(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5825)}])},5825:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var i=t(5893),o=t(7294),s=t(7066),a=t(9008),r=t.n(a),c=t(9647),l=t.n(c),u=t(7335),d=t.n(u),p=e=>{let{onQuerySubmit:n,defaultQuery:t="What do I have scheduled this week?"}=e,[s,a]=(0,o.useState)(t),[r,c]=(0,o.useState)(!1),[l,u]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{u("SpeechRecognition"in window||"webkitSpeechRecognition"in window)},[]),(0,i.jsxs)("div",{className:d().voiceInputContainer,children:[(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&n(s)},className:d().inputForm,children:[(0,i.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Ask about your schedule...",className:d().textInput}),(0,i.jsxs)("div",{className:d().buttonGroup,children:[l&&(0,i.jsx)("button",{type:"button",onClick:()=>{if(l)try{if(r){c(!1);let e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&new e().stop()}else{let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(e){let n=new e;n.continuous=!1,n.interimResults=!1,n.lang="en-US",n.onresult=e=>{let n=e.results[0][0].transcript;a(n),c(!1)},n.onerror=()=>{c(!1)},n.onend=()=>{c(!1)},n.start(),c(!0)}}}catch(e){console.error("Speech recognition error:",e),c(!1)}},className:"".concat(d().voiceButton," ").concat(r?d().listening:""),title:r?"Stop listening":"Start voice input",children:"\uD83C\uDFA4"}),(0,i.jsx)("button",{type:"submit",className:d().submitButton,children:"Search"})]})]}),r&&(0,i.jsx)("div",{className:d().listeningIndicator,children:"Listening..."})]})};function _(){let[e,n]=(0,o.useState)(""),[t,a]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,_]=(0,o.useState)("What do I have scheduled this week?"),h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;a(!0),u(null),n("");try{let t=await s.Z.post("/api/calendar",{sessionId:"bded18e27b064f659085802d9da651f8",action:"sendMessage",chatInput:e});if(t.data&&Array.isArray(t.data)&&t.data.length>0){let e=t.data[0];e.success&&e.response?n(e.response):u("Invalid response format or unsuccessful response")}else t.data&&"object"==typeof t.data&&t.data.response?n(t.data.response):"string"==typeof t.data?n(t.data):n(JSON.stringify(t.data))}catch(e){console.error("Error fetching response:",e),u("Failed to fetch response. Please try again.")}finally{a(!1)}};return(0,i.jsxs)("div",{className:l().container,children:[(0,i.jsxs)(r(),{children:[(0,i.jsx)("title",{children:"Calendar Voice App"}),(0,i.jsx)("meta",{name:"description",content:"Calendar application with voice interface"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("main",{className:l().main,children:[(0,i.jsx)("h1",{className:l().title,children:"Calendar Voice App"}),(0,i.jsx)(p,{onQuerySubmit:e=>{_(e),h(e)},defaultQuery:d}),(0,i.jsx)("div",{className:l().responseContainer,children:t?(0,i.jsx)("div",{className:l().loading,children:"Loading response..."}):c?(0,i.jsx)("div",{className:l().error,children:c}):e?(0,i.jsx)("div",{className:l().response,children:e}):(0,i.jsx)("div",{className:l().placeholder,children:"Your response will appear here"})})]}),(0,i.jsx)("footer",{className:l().footer,children:(0,i.jsxs)("p",{children:["Calendar Voice App \xa9 ",new Date().getFullYear()]})})]})}},9647:function(e){e.exports={container:"Home_container__d256j",main:"Home_main__VkIEL",title:"Home_title__hYX6j",responseContainer:"Home_responseContainer__nx4dL",loading:"Home_loading__Z_JGo",error:"Home_error__514Ji",footer:"Home_footer__yFiaX",response:"Home_response___4qri",placeholder:"Home_placeholder__fw7kG"}},7335:function(e){e.exports={voiceInputContainer:"VoiceInput_voiceInputContainer__Plgm3",inputForm:"VoiceInput_inputForm__sUbkP",textInput:"VoiceInput_textInput__h6rYA",buttonGroup:"VoiceInput_buttonGroup__nn15q",voiceButton:"VoiceInput_voiceButton__hU4Lh",listening:"VoiceInput_listening__pbwxY",pulse:"VoiceInput_pulse__cMYxt",submitButton:"VoiceInput_submitButton__RnEFd",listeningIndicator:"VoiceInput_listeningIndicator__9XgHJ",blink:"VoiceInput_blink__RDlVr"}}},function(e){e.O(0,[703,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);